setup:
  - command: init
    id: on-chain-assert
    source: >
      (define-on-chain-predicate (predicate (addr address))
        (if false
          (let ((new-addr addr)
                (key      n45)
                (appid    n20)
                (asaid    n15))
            (get-account-info-panic amount new-addr)
            (get-app-info-panic key appid)
            (get-app-info-panic key appid new-addr)
            (get-holding-info-panic amount new-addr asaid)
            (get-asset-info-panic total asaid)
            true)
          true))

      (define-constant alice @6Z3C3LDVWGMX23BMSYMANACQOSINPFIRF77H7N3AWJZYV6OH6GWTJKVMXY)

      (define-public (check (addr address))
        (begin
          (on-chain-asserts! (predicate alice) (err 1))
          (ok true)))

test:
  - command: init
    id: call-predicate
    source: >
       (contract-call? .on-chain-assert check @6Z3C3LDVWGMX23BMSYMANACQOSINPFIRF77H7N3AWJZYV6OH6GWTJKVMXY)
       (contract-call? .on-chain-assert check @6Z3C3LDVWGMX23BMSYMANACQOSINPFIRF77H7N3AWJZYV6OH6GWTJKVMXY)
       (contract-call? .on-chain-assert check @6Z3C3LDVWGMX23BMSYMANACQOSINPFIRF77H7N3AWJZYV6OH6GWTJKVMXY)
       (contract-call? .on-chain-assert check @6Z3C3LDVWGMX23BMSYMANACQOSINPFIRF77H7N3AWJZYV6OH6GWTJKVMXY)
       (contract-call? .on-chain-assert check @6Z3C3LDVWGMX23BMSYMANACQOSINPFIRF77H7N3AWJZYV6OH6GWTJKVMXY)
       (contract-call? .on-chain-assert check @6Z3C3LDVWGMX23BMSYMANACQOSINPFIRF77H7N3AWJZYV6OH6GWTJKVMXY)
       (contract-call? .on-chain-assert check @6Z3C3LDVWGMX23BMSYMANACQOSINPFIRF77H7N3AWJZYV6OH6GWTJKVMXY)
       (contract-call? .on-chain-assert check @6Z3C3LDVWGMX23BMSYMANACQOSINPFIRF77H7N3AWJZYV6OH6GWTJKVMXY)
       (contract-call? .on-chain-assert check @6Z3C3LDVWGMX23BMSYMANACQOSINPFIRF77H7N3AWJZYV6OH6GWTJKVMXY)
       (contract-call? .on-chain-assert check @6Z3C3LDVWGMX23BMSYMANACQOSINPFIRF77H7N3AWJZYV6OH6GWTJKVMXY)
       (contract-call? .on-chain-assert check @6Z3C3LDVWGMX23BMSYMANACQOSINPFIRF77H7N3AWJZYV6OH6GWTJKVMXY)
       (contract-call? .on-chain-assert check @6Z3C3LDVWGMX23BMSYMANACQOSINPFIRF77H7N3AWJZYV6OH6GWTJKVMXY)
       (contract-call? .on-chain-assert check @6Z3C3LDVWGMX23BMSYMANACQOSINPFIRF77H7N3AWJZYV6OH6GWTJKVMXY)
       (contract-call? .on-chain-assert check @6Z3C3LDVWGMX23BMSYMANACQOSINPFIRF77H7N3AWJZYV6OH6GWTJKVMXY)
       (contract-call? .on-chain-assert check @6Z3C3LDVWGMX23BMSYMANACQOSINPFIRF77H7N3AWJZYV6OH6GWTJKVMXY)
       (contract-call? .on-chain-assert check @6Z3C3LDVWGMX23BMSYMANACQOSINPFIRF77H7N3AWJZYV6OH6GWTJKVMXY)
       (contract-call? .on-chain-assert check @6Z3C3LDVWGMX23BMSYMANACQOSINPFIRF77H7N3AWJZYV6OH6GWTJKVMXY)
       (contract-call? .on-chain-assert check @6Z3C3LDVWGMX23BMSYMANACQOSINPFIRF77H7N3AWJZYV6OH6GWTJKVMXY)
       (contract-call? .on-chain-assert check @6Z3C3LDVWGMX23BMSYMANACQOSINPFIRF77H7N3AWJZYV6OH6GWTJKVMXY)
       (contract-call? .on-chain-assert check @6Z3C3LDVWGMX23BMSYMANACQOSINPFIRF77H7N3AWJZYV6OH6GWTJKVMXY)
       (contract-call? .on-chain-assert check @6Z3C3LDVWGMX23BMSYMANACQOSINPFIRF77H7N3AWJZYV6OH6GWTJKVMXY)
       (contract-call? .on-chain-assert check @6Z3C3LDVWGMX23BMSYMANACQOSINPFIRF77H7N3AWJZYV6OH6GWTJKVMXY)
       (contract-call? .on-chain-assert check @6Z3C3LDVWGMX23BMSYMANACQOSINPFIRF77H7N3AWJZYV6OH6GWTJKVMXY)
       (contract-call? .on-chain-assert check @6Z3C3LDVWGMX23BMSYMANACQOSINPFIRF77H7N3AWJZYV6OH6GWTJKVMXY)
       (contract-call? .on-chain-assert check @6Z3C3LDVWGMX23BMSYMANACQOSINPFIRF77H7N3AWJZYV6OH6GWTJKVMXY)
       (contract-call? .on-chain-assert check @6Z3C3LDVWGMX23BMSYMANACQOSINPFIRF77H7N3AWJZYV6OH6GWTJKVMXY)
       (contract-call? .on-chain-assert check @6Z3C3LDVWGMX23BMSYMANACQOSINPFIRF77H7N3AWJZYV6OH6GWTJKVMXY)
       (contract-call? .on-chain-assert check @6Z3C3LDVWGMX23BMSYMANACQOSINPFIRF77H7N3AWJZYV6OH6GWTJKVMXY)
       (contract-call? .on-chain-assert check @6Z3C3LDVWGMX23BMSYMANACQOSINPFIRF77H7N3AWJZYV6OH6GWTJKVMXY)
       (contract-call? .on-chain-assert check @6Z3C3LDVWGMX23BMSYMANACQOSINPFIRF77H7N3AWJZYV6OH6GWTJKVMXY)
       (contract-call? .on-chain-assert check @6Z3C3LDVWGMX23BMSYMANACQOSINPFIRF77H7N3AWJZYV6OH6GWTJKVMXY)
       (contract-call? .on-chain-assert check @6Z3C3LDVWGMX23BMSYMANACQOSINPFIRF77H7N3AWJZYV6OH6GWTJKVMXY)
       (contract-call? .on-chain-assert check @6Z3C3LDVWGMX23BMSYMANACQOSINPFIRF77H7N3AWJZYV6OH6GWTJKVMXY)
       (contract-call? .on-chain-assert check @6Z3C3LDVWGMX23BMSYMANACQOSINPFIRF77H7N3AWJZYV6OH6GWTJKVMXY)
       (contract-call? .on-chain-assert check @6Z3C3LDVWGMX23BMSYMANACQOSINPFIRF77H7N3AWJZYV6OH6GWTJKVMXY)
       (contract-call? .on-chain-assert check @6Z3C3LDVWGMX23BMSYMANACQOSINPFIRF77H7N3AWJZYV6OH6GWTJKVMXY)
       (contract-call? .on-chain-assert check @6Z3C3LDVWGMX23BMSYMANACQOSINPFIRF77H7N3AWJZYV6OH6GWTJKVMXY)
       (contract-call? .on-chain-assert check @6Z3C3LDVWGMX23BMSYMANACQOSINPFIRF77H7N3AWJZYV6OH6GWTJKVMXY)
       (contract-call? .on-chain-assert check @6Z3C3LDVWGMX23BMSYMANACQOSINPFIRF77H7N3AWJZYV6OH6GWTJKVMXY)
       (contract-call? .on-chain-assert check @6Z3C3LDVWGMX23BMSYMANACQOSINPFIRF77H7N3AWJZYV6OH6GWTJKVMXY)
       (contract-call? .on-chain-assert check @6Z3C3LDVWGMX23BMSYMANACQOSINPFIRF77H7N3AWJZYV6OH6GWTJKVMXY)
       (contract-call? .on-chain-assert check @6Z3C3LDVWGMX23BMSYMANACQOSINPFIRF77H7N3AWJZYV6OH6GWTJKVMXY)
       (contract-call? .on-chain-assert check @6Z3C3LDVWGMX23BMSYMANACQOSINPFIRF77H7N3AWJZYV6OH6GWTJKVMXY)
       (contract-call? .on-chain-assert check @6Z3C3LDVWGMX23BMSYMANACQOSINPFIRF77H7N3AWJZYV6OH6GWTJKVMXY)
       (contract-call? .on-chain-assert check @6Z3C3LDVWGMX23BMSYMANACQOSINPFIRF77H7N3AWJZYV6OH6GWTJKVMXY)
       (contract-call? .on-chain-assert check @6Z3C3LDVWGMX23BMSYMANACQOSINPFIRF77H7N3AWJZYV6OH6GWTJKVMXY)
       (contract-call? .on-chain-assert check @6Z3C3LDVWGMX23BMSYMANACQOSINPFIRF77H7N3AWJZYV6OH6GWTJKVMXY)
       (contract-call? .on-chain-assert check @6Z3C3LDVWGMX23BMSYMANACQOSINPFIRF77H7N3AWJZYV6OH6GWTJKVMXY)
       (contract-call? .on-chain-assert check @6Z3C3LDVWGMX23BMSYMANACQOSINPFIRF77H7N3AWJZYV6OH6GWTJKVMXY)
       (contract-call? .on-chain-assert check @6Z3C3LDVWGMX23BMSYMANACQOSINPFIRF77H7N3AWJZYV6OH6GWTJKVMXY)
